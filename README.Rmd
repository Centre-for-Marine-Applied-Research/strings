---
output: github_document
---

<!-- README.md is generated from README.Rmd. Please edit that file -->

```{r, include = FALSE}

knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
  #fig.path = "man/figures/README-",
  #out.width = "100%"
)

library(badger)
library(usethis)
library(png)

repo <- "centre-for-marine-applied-research/strings"
```

# strings

<!-- badges: start -->

[![License: GPL v3](https://img.shields.io/badge/License-GPLv3-blue.svg)](https://www.gnu.org/licenses/gpl-3.0) `r badge_devel(repo, "blue")`

`r badge_codefactor(repo)`

`r badge_github_actions(repo)`

<!-- badges: end -->


The goal of strings is to help users compile, format, calculate, and visualize oceanographic data, as collected by the Centre for Marine Applied Research's (CMAR) Coastal Monitoring Program. The package can process temperature, dissolved oxygen, and salinity data measured by HOBO Pro V2, TidBiT, aquaMeasure DOT, aquaMeasure SAL, and/or VR2AR sensors.

## Installation

You can install the development version of strings from [GitHub](https://github.com/) with:

``` r
# install.packages("devtools")
devtools::install_github("Centre-for-Marine-Applied-Research/strings")
```

<<<<<<< HEAD
## Background

The Centre for Marine Applied Research ([CMAR](https://cmar.ca/)) coordinates an extensive [Coastal Monitoring Program](https://cmar.ca/2020/07/14/coastal-monitoring-program/) that measures [Essential Ocean Variables](https://www.goosocean.org/index.php?option=com_content&view=article&id=14&Itemid=114) (e.g., temperature, dissolved oxygen, salinity, sea state, currents), typically within 1 km of the coast of Nova Scotia, Canada. The `strings` package is used to compile, format, and visualize water quality data collected through this program.


Water quality data (temperature, dissolved oxygen, and salinity) is collected using “sensor strings”. Each string is attached to the seafloor by an anchor and suspended by a sub-surface buoy, with autonomous sensors attached at various depths (Figure 1). A string typically includes sensors from three manufacturers: Hobo (Onset?), aquaMeasure (InnovaSea?), and Vemco (Table X). Strings are typically deployed at a station for 6 – 12 months and data are measured every 1 minute to 1 hour, resulting in tens- to hundreds- of thousands of observations for a single deployment. 

![](README-fig1.PNG)

[](inst/image/README-fig1.PNG)



```{r, echo=FALSE, out.width="65%", fig.align='center'}

#knitr::include_graphics("inst/image/README-fig1.PNG")
#knitr::include_graphics("man/figures/README-fig1.PNG")


#p <- png::readPNG(system.file("image/README-fig1.PNG", package = "strings"))
#plot(p)

```

```{r, echo=FALSE, out.width="65%", fig.align='center', fig.cap="Might crop out the text and put it in a table?"}

# knitr::include_graphics("inst/image/README_fig1.PNG")
# knitr::include_graphics("README-fig1.PNG")

```


(After retrieval?) Data from each sensor is exported to a separate csv file (using manufacturer-specific software). Each type of sensor generates a data file with unique columns and header fields, which poses a significant challenge for compiling all data from a deployment into a single format for analysis.

The strings package was originally built to address this challenge, and now offers functions to compile, format, visualize, and convert sensor string data.

`strings` was developed specifically to streamline CMAR’s workflow, but was designed to be flexible enough that other users can apply it to process data from the accepted sensors. Refer to vignettes for more detail.

Processed data from CMAR’s Coastal Monitoring Program can be viewed and downloaded from …. [cheat sheet].


include example of compiled data here?


=======
>>>>>>> parent of 62d22f1... docs: add example to README
## Example 

Examples to come

```{r example}
library(strings)
<<<<<<< HEAD

library(readr)
```

Consider a string deployed from May 31, 2019 to October 19, 2019 with three sensors:

```{r, echo=FALSE}

tibble(
  "Sensor" = c("HOBO Pro V2", "aquaMeasure DOT", "VR2AR"),
  "Serial#" = c("10755220", "670364", "547109"),
  "Depth" = c("2", "5", "15")
) %>% 
kable(align = "lcc")

```

### Title for this section (Raw data? Sensor export? Separate data files?)

The data from each sensor is exported to a separate csv file, each with manufacturer-specific columns.

Import raw data files:
```{r, warning=FALSE}
path <- system.file("extdata", package = "strings")

hobo_raw <- read_csv(paste0(path, "/HOBO/10755220.csv"))

aquaMeasure_raw <- read_csv(paste0(path, "/aquaMeasure/aquaMeasure-670364_2019-10-19_UTC.csv"))

vemco_raw <-  read_csv(paste0(path, "/Vemco/Vemco_Borgles_Island_2019_05_30.csv"))

=======
## basic example code
>>>>>>> parent of 62d22f1... docs: add example to README
```

